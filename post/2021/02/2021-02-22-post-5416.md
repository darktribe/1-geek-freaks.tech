---
title: "戯言：Notionで大量のデータを転送するとKarnel Taskが暴走するので"
date: "2021-02-22"
categories: 
  - "mac"
  - "アプリ・ソフト"
  - "webサービス"
  - "ソフト・サービス"
  - "戯言"
---

どうもこんにちは、最近外食すると規定の予算をはみ出る事が多くはみ出た分は私の負担になる形式なのでできるだけ外食はしたくないタイプの如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。でも外食して食べるのを手加減する観点はないんですよね。  
　今日はいま絶賛しながら使っているアプリであるNotionが大量のデータ転送をするとKarnel Taskが暴走してカックカクになりMacが使い物にならないので、というお話を中心に戯言編成でお送りしたいと思います。  

## Notionとは

　NotionとはNotion Labの開発・販売するオールインワンワークスペースアプリで、基本はブラウザから使うWebアプリなんですが各種OSについてはWindows/Mac OS/Linux/iOS/Androidについてはネイティブのアプリが提供されており非常に使いやすいアプリです。  
　オールインワンワークスペースという名の通り、ワークスペースに必要な機能はNotion1本でまとまっていて、クラウドメモ・タスク管理・カレンダー管理・エクセルのような表計算などの機能が一つのアプリで使えるので非常に便利で、無料でも相当なレベルまで使えますし有料プランだと物凄く使えるようになるアプリなので、気になる方はぜひ調べてみて、無料で試してみて下さい。物凄い可能性を秘めたアプリです。  

## 実質無制限ストレージなんですが

　私はNotionは非常に気に入ったので有料プランで契約しているんですが、有料プランだとNotionで作るページに添付できるファイルの容量上限がなしになるので、添付ファイル自体は無制限に貼付可能なので合わせて無制限・無限ストレージとして使えるようになります。  
　私は今自分の持っているデータを全てNotionのデータベースで管理できないかと考えており色々なデータをアップロードしているんですが、ちょっとここで問題に出会っています。  

## 大量のデータ転送をするとKarnel Taskが暴走してMacがカクカクになるのです

　何が問題なのかというと、Notionに対してローカルから大量のデータ転送をしようとするとMacのKarnel Taskが暴走してMacの動きがカクカクになるのです。  
　大体1GBのデータを2つ並行してアップロードしようとするとKarnel Taskが1200パーセントくらいになってCPUの使用割合が96パーセントを超えて動きがカクカクになります。キーボードで文字入力するとして、打ち込んだ文字が2〜3秒後に反映される感じのカクカクさになるので実質パソコンとしては使えなくなります。  
　自慢の50万円したインテルMacBookPro15インチ（2018年モデル）でCore i9/メモリ32GB/ストレージ1TB/ビデオカードRadeon Pro vega20がここまでカクカクになるのか、と思い非常に残念なんですが、実際何度かウド機を確認した結果1GB以上のデータを複数アップロードすると問題が再現するのでスペックなのかアプリの問題なのかは別としてそこに限界があるようです。  

## M1搭載MacBookAirでは試していないのでインテルCPU独自の問題の可能性はありますが

　まあまだM1搭載MacBookAirではデータ転送を試していないので、M1搭載MacBookAirなら大丈夫という鬼のような可能性は残っていますし、今までインテルMacでKarnel Taskの暴走は多々見てきましたがM1搭載MacBookAirでKarnel Taskの暴走は見た事がないので、もしかしたらM1搭載MacBookAirなら大丈夫なのかもしれません。試してみないとなんとも言えませんが。  

## とりあえずデータ転送中は使い物にならないのでM1搭載MacBookAirに逃げてきています

　とりあえずメインのMacBookPro15インチ（2018年モデル）はデータ転送中には使い物にならないので、今はサブのM1搭載MacBookAirからブログ投稿しているんですが、まあサブとは言っていますがスペック的にはMacBookPro15インチ（2018年モデル）には劣らないスペックがあるので使っていて不満があるかといえばないですし、重いデータはメインのMacBookProにおいていますがデータ以外の用途であれば問題なく使えるのでとりあえずメインでデータ転送をしつつサブでブログを書く運用で行きたいと思います。  

## こういう用途は想定していなかったんですが、いざという時のためのサブ投手なので

　まあこういう用途になる事を想定して買ったMacBookAirではないんでうが、いざという時のためのサブ投手として購入したMacBookAirなので、結果としてメインパソコンが使えない間にサブのMacBookAirで通常の業務（というほど儲かっていないんですが）ができているので良かったな、と思います。  
　割と今MacBookAirの方が快適なのでこのまま行くと主従逆転が起きるというか、インテルMac面倒くさい・M1搭載Mac最高という話の流れになりつつあるので、メインPCは早い段階で開放して普段から使える状態を継続しないといけないな、と思います。  

## アップロードさえしてしまえばNotionのダウンロード側は問題ないので

　Notionについてはアップロードは手間ですが、1回アップロードしてしまえばダウンロードについては普通に待たされるだけでKarnel Taskが暴走したりはしないので問題ないと思っていて、1回だけアップロードしてしまえばあとは問題なくどの環境からでもデータを参照できる予定なので、面倒臭がらずにコツコツとデータを転送して環境を整えておきたいと思います。  

## M1搭載MacBookAirでもサクサク動いていますし

　Notionについては今M1搭載MacBookAirからアクセスしていますがサクサク動いていますし、ダウンロードには問題がなく動画再生や音楽鑑賞には普通に使えるマシンなので、インテルMacからデータを転送してあげて使うのはM1搭載MacBookAirから、という動線が今のところ最適解なのかな、と思います。  

## 注文しているUSB-Cハブが届いたらポータブルSSD経由でM1搭載MacBookAirから転送を試そうと思います

　インテルMacからデータ転送するとKarnel Taskが暴走するのは良いとして（良くはない）、M1搭載MacBookAirからのデータ転送だとKarnel Taskはどうなるんだ、という興味がありまして、とりあえず試すためには転送するデータが必要なので、そのデータが入っているポータブルSSDにアクセスするためのUSB-Cハブが到着するのを待っている段階です。  
　USB-Cハブで電源とUSB-Aポート・HDMIポートが増設できたらサブディスプレイに画面を表示しつつポータブルSSDからデータを転送してそれをNotionにアップするテストはやっておきたいと思っていて、環境ができたら早々に確認したいと思います。  

## まあ面倒ですが1回転送終了すればあとは都度アップデートすればいいだけの話なので

　まあNotionへのデータ転送は面倒くさいんですが、1回転送が完了すればあとはデータが増えるごとに都度アップデートすればいいだけの話になり非常に楽になる予定なので、そうなるまでは気合いで環境構築していこうと思います。  

## まとめ

　というわけで、自慢のインテルMacBookPro15インチでNotionに大量のデータ転送をするとKarnel Taskが暴走して使い物にならなくなるのでM1搭載MacBookAirに逃げてきたよ、というお話でした。  
　Karnel Taskはどうにも制御できないですからね……。
