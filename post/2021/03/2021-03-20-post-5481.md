---
title: "M1搭載MacBookAirで仮想化環境が動くんだとインテルMacBookProがいらん子になるので"
date: "2021-03-20"
categories: 
  - "mac"
  - "戯言"
---

どうもこんにちは、新しい事があるとすぐ実験しなければ気がすまないので色々試すんですが、要求がマニアックなので本当に試すまでできるかどうか前情報がない事が多いので毎回試すのが本当に楽しい如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
　今日はM1搭載MacBookAirで仮想化環境が動くとするとインテルMacBookProがいらん子になるので困る、というお話を中心に戯言編成でお送りしたいと思います。  

## M1搭載MacBookAirとは

　M1搭載MacBookAirとは、Appleが去年11月に発売開始したApple SiliconのM1チップを搭載したMacBookAirを指します。  
　インテルCPUをやめて独自のApple Siliconを搭載したモデルで、発売当時は互換性が大丈夫か、アプリは問題なく動くのか、性能はどれだけ高いんだ、という部分が懸念点として挙げられていましたが、実際に発売されて見ると互換性が100パーセントに近い高さでアプリ類も問題なく動き、性能は4倍の値段のパソコンを超えるほどの高性能という素晴らしいスペックを叩き出してこの値段帯のパソコンでは一択の強さであると言われているノートパソコンです。  

## 基本的にはM1搭載MacBookAirでは仮想化環境が動かないんですが

　M1搭載MacBookAirではApple SiliconであるM1チップを使っているので仮想化環境が使えない、という欠点があって、今までの仮想化環境はインテルCPU向けだったんですが今回のM1搭載MacBookAirはApple Siliconを使っておりApple SiliconはARM系のチップなので仮想化環境が使えないという結論なのです。  
　そんなわけで仮想化環境を使いたい場合はインテルCPUのMacBookを使うのが鉄板なんですが、今プレビュー環境で使えるM1チップ用の仮想化環境ソフトがあるので要注目です。  

## Parallels Desktopのプレビュー版・ARM版Windowsのプレビュー版があるので

　今までインテルCPUの場合Windowsの仮想化環境を使うにはParallels Desktopが鉄板なアプリだったんですが、このParallels Desktopがプレビュー版でM1搭載MacBookAir対応のParallels Desktopをて提供してくれているのです。  
　このプレビュー版のParallels Desktopを使えばM1搭載MacBookAirでも仮想化環境が使えます。  
　しかし問題なのは仮想化環境の上に乗せるWindowsで、M1搭載MacBookAirに載せるWindowsはインテル版では駄目で、ARM版のWindowsが必要なのです。  
　ですがそのARM版Windowsもテクニカルプレビュー版で入手が可能で、まだライセンシングされていない物なので自由に使う事も買う事もできないのですが、仮想化環境のテストをするために使う事ができるのでダウンロードしておくと良いでしょう。 　詳しくは「[M1搭載MacBookAirでAVIUTILを動かす方法（実際に動くんですが概念実験という体でお願いします）](https://techblog.show-ya.blue/?p=5477)」という記事で環境の作り方を説明しているので気になる方は見てみて下さい。  

## 試しにインストールしてみた所問題なく動くので

　実際に試しにインストールして2台のMacBookAirに環境を展開して使ってみて問題なく動きますので多分これで問題なく動くな環境なのでまず環境のセットアップ自体はできた感じですが、今の所インテル版MacBookProでインテル版64BitのWindowsをParallels Desktopで動かした時と同等の動きをしているので環境としては同じところまで行けていると思うんですが、まずParallels Desktopがプレビュー版で正式ではない事、そしてARM版Windowsがプレビュー版で正式ではない事がありますので、どちらかの原因で「できない」事があるかもしれないのでその点は要注意です。  
　あとプレビュー版をセットアップしていると基本言語が英語版なので設定変更しないと日本語を使うアプリが文字化けして使えない場合があるのでそのあたりの設定は自分でいじれないと厳しいかな、と思いますが、上記記事ではそのあたりまで修正できるように触れているので試しにテストしてみてもいいんじゃないでしょうか。  

## ライセンスさえ解決できれば使用は問題なさそうです

　とりあえず動作については安定していますし、これはM1搭載MacBookAirの性能が高いからもあるんでしょうが、インテル版MacBookProで仮想化した時よりもかなりサクサクな感じで動作してくれるので将来に希望が持てそうです。  
　Parallels Desktopがプレビュー版なのは多分ARM版Windowsがプレビューだからだと思うんですが、ARM版Windowsは今の所単体ライセンスは予定していないという事なので普通に使う為にはライセンスの問題があり、このライセンスの問題さえ解決すれば継続使用は難しくなさそうな手応えです。  
　というかARM版WindowsがライセンスされればBootCampの再来もありえる感じで動作しているので、ぜひライセンスの問題は早めに解決して、M1搭載MacBookAirでも問題なく仮想化環境上でWindowsが動くようにしてくれればいいな、と思います。  

## しかし現状インテルMacBookProの存在価値が仮想化環境のみなので

　しかしまあこれは愚痴なんですが、一昨年50万近くかけて購入したMacBookPro15インチ（2018年モデル）なんですが、性能でM1搭載MacBookAirに肉薄されていて、そして今MacBookProの方は原因不明のKernel Task暴走でカクカクになる事が多く非常に使いづらいんですよね。そんなわけでメイン使用がどんどんM1搭載MacBookAirに移行しつつあるんですが、最後の砦として仮想化環境が使えるのはインテルMacだけ、という部分があって「インテル版MacBookProは必要」という結論にしているんですが、この調子でM1搭載MacBookAirで仮想化環境が普通に動く環境ができるとインテルMacはもういらないかな、という方向に話がまとまっていくので非常に嬉しくない部分があります。  
　もちろんM1搭載MacBookAirがより便利になるのは望む所なんですが、前の機種がどんどん「いらない子」担っていくのは結構切ないよな……。と思います。  

## 仮想化環境がM1搭載MacBookAirで問題なくできるとなるとメイン機入れ替えな感じになりそうです

　というか普通に考えてM1搭載MacBookAirの方がスペックが良いので仮想化環境も問題なく動くのであればメイン機がM1搭載MacBookAirになるのは当然の帰結になる感じなので、ライセンシングの問題さえ解決するのであれば家の中のメイン機入れ替えも近いかな、と思います。  
　まあ個人的にはAndroidも仮想化したいのでBlueStacksを使っているんですが、これがM1搭載MacBookAirに対応したら致命傷というかクリティカルなポイントだなと思っていまして、そこまで環境が整ったら諦めてメイン機をM1搭載MacBookAirに変えて、今のMacBookProは中古に流して金に変えて続くM1xなのかM2なのかはわかりませんが新しいAople Silicon機を買おうかなと思います。まあ中古に売るのは苦手なので売らないで使いみちを探すと思うんですが。  

## まとめ

　というわけで、今プレビュー版のParallels DesktopとARM版Windowsを使ってM1搭載MacBookAirにWindows環境を仮想化できるので、これが安定するようだとインテルMacBookProがいらん子になるので困る、というお話でした。  
　ライセンス関係が整理されて大手を振って使えるようになるといいですよね。
