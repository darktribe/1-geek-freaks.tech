---
title: "戯言：リカバリと書き戻しが終わりました"
date: "2021-03-01"
categories: 
  - "mac"
  - "戯言"
---

どうもこんにちは、昨日の夜にMacBookProのリカバリを実施したんですが、リカバリ開始から2時間くらいで元の環境に戻す事ができているのでかなり訓練が行き届いているというか、リカバリの準備がしっかりできているタイプの如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
　今日はリカバリ後の書き戻しが終わったので、というお話を中心に戯言編成でお送りしたいと思います。  

## ここのところMacBookPro15インチ（2018年モデル）の調子は悪かったんです

　昨日リカバリしたMacBookPro15インチ（2018年モデル）ですが、ここのところ調子が悪かったんですよね。  
　どういう部分で調子が悪いかというと、今非常に注力して使っているアプリでNotionというのがあるんですが、このNotionでアプリを使って複数のファイルをWebにアップロードするとKernel Taskが大暴走して800パーセントとかになってしまってシステムが反応しなくなり、テキスト入力が3秒後に反映されるような重さになるので実質使えなくなるのです。  
　しかも1回Kernel Taskが暴走するとしばらく不安定になり、小さなファイル転送や何もしない状態でもKernel Taskが暴走するようになって再起動しても使えない状態にハマる事が多かったんですよね。  
　Macの環境で言うとMacBookPro15インチ（2018年モデル）の他にM1搭載MacBookAir（2020年モデル）があるのでそっちを使えば問題ないんですが、一応メイン機はMacBookPro15インチ（2018年モデル）の方なので簡単に暴走したりシステムが反応しなくなっては困るのでなんとかしなければならないとは思っていたんです。  

## 元はと言えばネットワーク周りが弱いんですよね

　もとはといえばこのMacBookProはネットワーク周りが弱くて、この前はモバイルディスプレイを繋いでネットワークに負荷をかけると暴走し、その前は仮想化環境を走らせながらネットワークに負荷をかけるとKernel Taskが暴走したので、ネットワークで詰まるとKernel Taskが暴走する感じだと思うのです。  
　とはいえネットワークに負荷をかけた程度でパソコン本体の動作が遅くなっては本末転倒なので問題には対処すべきで、今まで何回もKernel Task暴走には対処してきたんですが、だいたいはアプリ再起動・Finder再起動・Mac再起動・NVRAMクリア・SMCクリア・ユーザーの作り直しを試してちょっとは解消するんですが再発するので最終的にリカバリを行うしかない状態になり、そしてリカバリすれば問題は再発しない（違う形で発生する事があるが同じ問題は起きない）という状態だったので今回もリカバリを行う事にしたのです。  

## というわけで今回もリカバリを行ったんですが

　というわけで今回もリカバリを行ったんですが、MacBookProを購入してから平均的に3ヶ月に1回はリカバリしている感じなので経験値も貯まっていて、作業自体はもう慣れたものなのです。  
　データ専用のフォルダ（OneDriveに動機済み）をポータブルSSDにコピーして保存、リカバリ後にすぐ使うデータのたぐいはOneDriveのルートに保存しておいてすぐに参照できるようにしておいて指差し確認してからMacを終了、Command+Rを押しながら起動、ディスクユーティリティでSSDを消去して（Catalilaの場合2箇所消去が必要）Macintosh HDという名前のSSDが1個の状態にしてディスクユーティリティを終了、OSのリカバリを選択してあとは流れ作業でリカバリ終了まで一息に行きます。  
　リカバリ終了したら新規Macとして設定を行うので普通に起動してユーザー名を指定して……という作業後、全部終わったらデスクトップが表示されるのでそこからデータの書き戻しです。  
　Google Chromeダウンロード・設定、Google日本語入力ダウンロード・設定・辞書のインポート、BitWardenのインストールとマスターパスワード入力、それからApp Storeを開いて履歴から使うアプリを一気に書き戻しつつポータブルSSDからデータを書き戻しOneDriveを設定、戻ったアプリは片っ端から設定を行いリカバリ前の環境に戻します。  
　ブログにも書き戻す手順を載せているので自分で参照しながら書き戻し、2〜3時間で作業終了です。  

## とりあえず現状は大丈夫そうです。一回怪しかったですけどね

　というわけで環境が書き戻されました。とりあえず現状は大丈夫そうです。一回OneDriveが反応なしになってKernel Taskが400パーセントを超えましたがOneDriveをキルしたら数字が戻って落ち着いているんで大丈夫そうです。OneDriveも起動し直しましたが生きています。  
　一回怪しかったですが現状は大丈夫そうなのと、これでまたKernel Taskが暴走するようならもうM1搭載MacBookAirに引っ越してしまえという話だと思うので駄目なら駄目でちゃんと見極めて移動しようと思います。  
　まあ50万ちかくしたパソコンなので「駄目」っていうのは基本的にありがたくないですしなんとかして使いたいんですが、今の時点では私のできる事は全部やっているのでこれ以上はどうにもできないです。  

## データの書き戻しも終わっているので環境は復活しているので

　とりあえずデータの書き戻しも終わっているので環境は復活していますし、細かい設定はまだですが大枠の設定は戻っているので昨日までと同じ感じで使って同じ結果を出せる状態にはなっているので良いかなと思います。  
　とりあえず「使う」分には問題ない環境が戻っていますし、使い勝手も以前と変わらないものを復元できているのでリカバリとしては成功の部類だと思います。  

## 環境としては結構強い環境が築けていると思うので

　MacBookPro15インチ（2018年モデル）の環境としてはそれ本体にUSB-CハブをつなげてHDMIで出力してサブディスプレイに出力し、USB-AポートでポータブルSSDをつなげ、BLUETOOTHでマウスを繋げて使っているんですが、MacBookの使用環境としては使いやすい・強い環境を築けていると思うのでできるだけこのままで使いたいニーズですし、あと設置場所の問題でM1搭載MacBookAirは寒いところにありMacBookPro15インチ（2018年モデル）は暖房の前においてあるので暖かい場所で作業したいニーズもあるので今の環境をそのまま過不足なく不満なく使えるようにしたいので、今回のリカバリで全部の問題が解決しているといいな、と思います。  
　もう私にできるのはリカバリと検索したのを試すくらいなので、これ以上私に負荷がかからず使い勝手の良い環境が継続できればいいと思うので、とりあえず無事を祈っておきます。  

## まとめ

　というわけで、昨日MacBookPro15インチ（2018年モデル）のリカバリを終えたので、というお話でした。  
　リカバリは経験値、慣れれば短時間で環境が取り戻せるので慣れるまで繰り返しするのがコツなのかも知れません。  
　個人的にはリカバリは季節ごとに1回は必要なイメージなので、簡単に復旧できるように準備しておくと良いですよね。
