---
title: "端ネタ：FilezilllaでSFTPを使うとめっちゃ安定している、他"
date: "2021-07-08"
categories: 
  - "mac"
  - "アプリ・ソフト"
  - "アプリ紹介"
  - "戯言"
---

どうもこんにちは、如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
　今日は大規模なサイトのバックアップにはFilezillaのFTPではなくSFTPを使うと安定しているのでお薦めですよ、というお話しを中心に戯言編成でお送りしたいと思います。  

## 私はWordPressのサイトをいくつも持っているんですが

　私はブログ廃人なのでWordPressのサイトをいくつも持っているんですが、WordPressってサイトを作るのは物凄く簡単なんですが、内部で物凄いファイルを作るのでバックアップが大変で、いままで色々試していたんですが良い方法がなく、結局エックスサーバーは自動バックアップが走るのでまあいいか、みたいな気持ちになってサイトをローカルにバックアップしないで来てしまったんですが、やはりローカルにファイルがないのは不安なのでなにか方法はないかな、と思っていたんですが、最終的にはSFTPを使えば安定しているという結論に達しました。  

## サイトのバックアップをする時にFTPだと安定しないんですよね

　私はMacのFTPソフトにはFilezillaを使っているんですが、Filezillaは他のFTPソフトに比べれば安定度は高いんですが、WordPressサイトのようなファイル数が膨大なサイトをバックアップしようとすると安定性が悪いと言うか、途中でサーバーから切断されてバックアップが完了しないんですよね。  
　何度か接続しなおせば進展はするんですがちゃんと完了しているのか怪しいですし、一回でバックアップが完了しないのは健全な動きだとは思わないのでなんとかしないといけないと思ったんですよね。  

## そこでSFTPを使ったらどうか、と思いついたんですが

　そこで最初はSSHを使って手動でファイルをダウンロードすれば良いんじゃないかと思ったんですが、SSHサーバーに接続はできるんですがSCPコマンドが上手く出来なくて断念したんですが、それを調べている中でSFTPという方法があると知り、SFTPならFilezillaでもできるのでSFTPを使ってサーバーからバックアップを取れば良いんじゃないかと思いついたのです。  
　FTPと違ってSFTPは安定していると言うのでWordPressのバックアップにもよかろうと思ってセッティングをしてみたのです。  

## 設定は面倒ですがめちゃくちゃ安定しています

　実際のところどうだったのかと言うと、SFTPは設定は面倒ですが接続はめちゃくちゃ安定しています。  
　今までWordPressのサイトは1つバックアップするのでも途中で切断されていたんですが、SFTPならWordPressを複数収納したドメインそのもののバックアップをしても切断されることがなく、エラーも起きずにバックアップが無事完了したのです。  
　エックスサーバーは公開鍵方式でしかSSH/SFTPができないので公開鍵を作ったりFilezzila用に公開鍵ファイルを変換したりするのは結構な手間だったんですが、一回設定してしまえば後は使う時にパスワードを入力するだけでいいのでその後の運用は難しくなく、調べながら1つ1つ手順をたどれば難しい作業でもないので面倒臭がらずに一回設定してみると良いと思います。  

## SFTPを使う事でサイトを全てバックアップできたので

　結局SFTPを使う事で持っているサイトを全てバックアップできたので結果としては良かったと思っており、今まで放置状態でローカルにバックアップが取られていなかったWordPressサイトが全てバックアップできたのでこれからもSFTPを使ってバックアップをしていこうと思います。  
　WordPressサイトは1サイトでファイル1万個近くになるので気軽にはバックアップできなかったんですが、これだけ安定して転送できるのであれば寝る前なんかにSFTP転送を走らせて寝ている間に転送を行うような運用ができるので良かったと思います。  

## サイトのバックアップは大事なのでしっかり対応したいですよね

　実際にファイルの実態をいじる場合もあるのでサイトのバックアップはローカルに置いておくべきですし、そもそもサーバー上のデータはいつ消えるかわからないものなので手元にファイルを置いておくのは非常に重要なので、バックアップはしっかり対応したいですよね。  
　SFTPは最初の設定が面倒ですが一回設定してしまえば後は楽なので、SFTPでのファイル転送は強くお勧めします。  

## 戯言：最近色々有料アプリを買っている

　尺が余ったので他のお話しをしたいと思います。  
　最近Macの有料アプリを色々買うようになってきまして、ここ1ヶ月で有料アプリを7本買っているのです。  
　アプリを買い物しているのには理由があって、dポイントや楽天ポイントの消えるポイントをiTunesカードに錬金する方法を覚えまして、ここ1ヶ月で1万円分くらいのポイントを手にしたのです。  
　このポイントは放っておくとけもフレの月額課金に充当される運命なのでそれはそれでもったいないと思い、あると便利で今欲しいアプリは買ってしまう事にしたのです。  
　最近購入したのは「Photo Bulk」「Pixelmator Pro」「Photo Tidy」「Commander One」「LanScan」「Daisy Disk」「Duplicate File Finder Pro」の7本です。  

## Photo Bulk

　Photo Bulkは画像の一括処理アプリです。  
　画像にウォーターマークを入れたりリサイズしたりフォーマットを変更したりリネームしたりというのを一括で行ってくれます。  
　ブログに載せる画像なんかを一括処理できるので非常に便利です。  

## Pixelmator Pro

　Pixelmator Proは画像処理アプリです。ゼロから絵を描くのも出来ますし、写真のレタッチなんかも簡単にできるアプリです。  
　マシンラーニングで画像の調整ができるので非常に使いやすく、MacのAutomatorを使って画像ファイルの一括処理もできるので非常に便利です。  
　個人的にはもっとガンガンに使いたいアプリなので写真を撮っていきたいと思います。  

## Photo Tidy

　Photo Tidyは画像用の仕分けアプリです。  
　画像の含まれたフォルダを指定すると写真のメタデータに従って年月日フォルダにコピーしてくれるというもので、写真の管理に便利です。  

## Commander One

　Commander Oneは2ベイン式のファイラーです。  
　ファイラーとして便利な上にネットワーク上のストレージを認識してくれるので使いやすく、細かい部分に手が届くので結構好きです。  

## LanScan

　LanScanは同一LAN上にあるデバイスを表示してくれるアプリです。  
　今触っているパソコン以外になんのデバイスがネットワーク上にあるのかを確認し、IPアドレスを調べられるのでネットワークからのアクセスがしやすくなって便利です。  

## Daisy Disk

　Daisy Diskは使っているストレージの専有状況をグラフィカルに表示してくれるアプリです。  
　今使っているストレージを何のフォルダ・ファイルが占めているかを調べられるのでストレージ管理が非常に楽になります。  

## Duplicate File Finder Pro

　Duplicate File Finder Proはストレージ内にある同一ファイル・同一フォルダを探してくれるアプリです。  
　同一ファイルが複数あるとストレージを無駄遣いするのでこのアプリで同一ファイルを削除するとストレージが開くので良いと思います。  

## まとめ

　という訳で、大規模なサイトのバックアップにはFilezillaのSFTPを使うと安定しますよ、というお話しを中心に戯言編成でお送りしました。  
　SFTPは本当に安定しているので良いですよ。
