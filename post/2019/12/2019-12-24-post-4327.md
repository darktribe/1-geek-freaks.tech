---
title: "ブログにToCが欲しくて色々頑張った話（WordPressのプラグインで解決）"
date: "2019-12-24"
categories: 
  - "mac"
  - "アプリ・ソフト"
  - "wordpress"
  - "webサービス"
  - "戯言"
---

どうもこんにちは、聖夜にもブログに余念がない如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
  
　今日は自分のブログにToC（ジャンプできる目次）機能が欲しくて色々頑張った話をしたいと思います。  
　結末から先にいうとWordPressのプラグイン「Table of Contents Plus」で解決しました。  

## Toc機能とは

　ToC（Table of Contents）機能とは、よくブログとかにある「ジャンプできる目次」の機能です。  
　長文のブログを見るに当たり目次がある方が便利ですし、最初に目次があるとどういう内容があるかがわかるのでブログを見やすくなります。  
　このブログのこの記事も、トップページではなく個別ページで見ると「ToC機能とは」の上に「目次」があると思います。それを自動でやってくれる機能がToC機能です。  

## そもそもなんでTocが欲しいと思ったのか

　そもそもなんでToC機能が欲しいと思ったのか、というと、今まで私はブログは書き散らしておしまい、という感じでやっていたのでToC機能にニーズはなかったんですが、最近MarsEditを導入してH2でタグつけして文章を書くようになりまして、ブログがH2で見出しできるようになったのです。  
　できるならしたいというのが人情で、そして文章をある程度書くなら目次があった方が見やすいのは事実なのでなんとかこの機能を導入できないか、と考えました。  
　後に書きますが「IA Writter」というアプリを試した事がありまして、IA WritterにはToCの機能があったので使ってみたらすごく便利だったんですよね。ですが色々あってIA Writterは諦めたのでIA Wriitter以外でToC機能を使いたいというニーズが残り、色々調べたり試したりしたのです。  

## 検討したアプリ

　そもそもToC機能は「ブログを書く段階で付ける」か「ブログをアップロードした後に付ける」かの違いがあり、私は個人的にブログを書く段階でつけたいな、と思ったのでアプリ側で対応しているものを検討しました。  
　検討の結果「IA Writter」と「MarsEdit4」と「Bear」が検討に上がったのですが、結論から言うとどれも採用しませんでした。  

### IA Writter

　IA Wrtitterはシンプルで高機能なブログライターです。  
　私はMarsEditを使い始める前にAi Writterを試したのですが、一つだけどうしても許せない制限があって、それが受け入れられないのでアプリを取り消して返金して貰いました。その制限は「ブログの1行目の空白がブログに反映されない」という部分だったんですが、そこだけ受け入れられなくて他は良いアプリだったので、そこだけ修正してくれたらもう一回買ってもいいかも知れません。  
　IA Writterには文章中に「{{TOC}}」と入力する事で自動でToCを展開してくれる機能が搭載されており、非常に便利でした。  
　先にTOCを入れてからブログを追記してもTOCに追加されるので理想的な導線で、この機能をジャストで欲しかったのですが他にはありませんでした。  

### MarsEdit4

　私は今ブログエディタはMarsEdit4を決め打ちしている（この前6100円課金した）んですが、MarsEditは3の頃にユーザースクリプトでToCを実現するスクリプトがあったようなんですが、4になってからスクリプトの機能が消え、ToC機能も搭載されていないのでMarsEdit4でToCというのは不可能でした。  
　ToCの機能に飲み絞って言えば役立たずだったんですが、ブログエディタとしての性能は十分以上に満足しており、逆にブログエディタ自体はMarsEditを使いたいというニーズがはっきり生まれました。  

### Bear

　私はクラウドメモ帳としてエディターサービスであるBearに年額課金しているんですが、このBearにもToC機能はありませんでした。  
　公式のTwitterで2017年にToC搭載を計画中・アプリの作り直しになるのでいつ出来るとは言えない、という事を呟いているんですが、それから2年経過して搭載されていないところを見るとのぞみ薄と言うか、待っていても得られるものはないな、と判断しました。  
　エディタとして、クラウドメモサービスとしては大満足ですが、ToCに関してはBearで得られるものはありませんでした。  

### 結局

　結局検討したアプリではIA WritterしかToC機能が実装されているものはないんですが、ToC機能だけに4000円払えるかと言うと払えるんですがアプリの導線が増える・使うアプリが増えるという事はブログを書く手間が増えるという事なので課金を決断するのにも二の足を踏み、結局アプリ以外で何か方法がないかを考える事にしました。  

## アプリでは解決しなかったのでWordPressの機能でなんとかならないか考えた

　ToCを「ブログを書く段階で付ける」というアプリからのアプローチは成功しなかったので、もう一つの方法である「ブログをアップロードした後に付ける」方法を模索する事にしました。  
　とはいえ方法は一つしかなく、WordPressで作っているブログなので「WordPressのプラグインでToCを作る」というアプローチになりました。  
　WordPressのプラグインでToCを作る場合、一番の選択肢に上がってきたのが「Table of Contents Plus」というプラグインです。検索に一番に上がってきましたし、WordPressのプラグイン検索でもそれなりに上位に出てくるのでそれを使うことにしました。  

## Table of Contsnts Plus

　Table of Contents PlusはMichael Tran氏によるWordPressのプラグインです。  
　このプラグインをインストール・設定する事でコンテンツ内にあるHタグを読み込み、決まった位置にジャンプできる目次としてそれを表示してくれるプラグインです。  
　基本的に使っている事を意識しなくてよく、Hタグで文章を整形しながら書いていけば最初のヘッダの前に目次を作成してくれるので手間がありません。  

### Table of Contents Plusの良い点

　Table of Contents Plusはインストール・設定が簡単で、作った文章の目次を自動で作ってくれる部分が優れています。  
　WordPressを使っているとJetPackで勝手にHタグなんかが追加されてしまうので「自動で作ってくれる」だけでは不十分で、「この項目は表示しない」などの個別設定が必要なんですが、その個別設定が可能なので文章が荒れなくて済みます。  
　無料で配布されており使い方も難しくないので、単純にToC機能だけを欲しい場合には良い選択肢なのではないでしょうか。  

### Table of Contents Plusの悪い点

　悪い点と言うか気になった点としては「WordPressのトップ画面では反映されない部分」ですね。この記事を[きさらぎめも](https://techblog.show-ya.blue)のトップ画面から見るとToCがありません。個別ページで見るとToCが反映されるので問題はないんですが、できればトップページからでも目次は見たいですよね……。  
　まあトップページから記事を読んでくれている人は私と同じくだらーっと読みたいニーズだと思うので目次無しでいいな、という結論なんですが、他に何か良いプラグインがあったら引っ越すかも知れません。  

### Table of Contents Plusの設定方法

　Table of Contents Plusの設定方法は簡単で、「プラグイン」の「新規プラグインの追加」から検索窓に「Table of Contents Plus」を検索、ページ中程に作者が「Michael Tran」のプラグインがあるのでそれを選んで新規追加すればOKです。  
　設定は基本的に項目を見て判断すれば大丈夫、JetPackで追加されるHタグが反映されてしまう問題は「設定」の「上級者向け」を開き、「除外する見出し」欄に「共有:|いいね:|関連|」を貼り付けて保存すればオーケーです。  
　非常に簡単に設定できて使えるのでお勧めします。  

## まとめ

　結論から言うとWordPressでToC機能が欲しければアプリなんかを使うのではなくプラグインの「Table of Contents Plus」を導入するのが早くて確実、というお話でした。  
  
　Bearが対応してくれるとかMarsEditが対応してくれるとかするのであればそっちを使いますが、他のアプリを使うくらいならWordPressのプラグインが楽でいいな、と思いました。
