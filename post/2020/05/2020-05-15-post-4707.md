---
title: "戯言：リソース制限を受けている・LogicoolのマウスM720rはかなりいい、他"
date: "2020-05-15"
categories: 
  - "mac"
  - "windows"
  - "wordpress"
  - "その他機械系"
  - "戯言"
---

どうもこんにちは、最近ブログのPV数が鰻登りだったのに2日前から100件近く減ってかなり凹んだんですが調べてみたら503エラーが出ているのでリソース制限を受けているのだと判明してほっとした反面サーバ移転を考えなければいけないのでどうしようと思っている如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
　今日はネタが薄いので「今使っているサーバでリソース制限を受けている瞬間がある」というお話と、「一昨日届いたLogicoolのM720rというマウスがかなりいい」というお話を中心に戯言構成でお送りしたいと思います。  

## サーバがリソース制限を受けている

　今日気づいた事なんですが、今このサイト「きさらぎ めも」をアップしているさくらインターネットさんの回線がリソース制限を受けている瞬間がありアクセスがカットされているという状況にあります。  
　物凄く頑張ってPV数を増やしている最中なのでアクセスをカットされると悲しいのでやめて欲しいです……。  

### ここしばらくのPV数のトレンドは上昇傾向だった

　なぜリソース制限を受けている瞬間があるとわかったかと言うと、PV数がいきなり減ったので（しかも2日連続）何かあったのかと思っていろいろ調べた結果わかったのです。  
　ここしばらくこの「きさらぎ めも」はアクセス数がここしばらく毎日50〜100件ずつPVが増えている状態でして、月間3500PVくらいまで順調に伸ばしていたのです。トレンドとしてはPVは向上傾向で頑張ってブログを書いたら頑張っただけアクセスが増えていたので非常に喜んでブログ更新をしていたのです。  

### ここ2日でいきなりPVが100件ずつ減った

　しかし昨日気づいたんですが昨日はPVが増えず月間3500件止まりでPVが増えておらず（30件くらい減った）、そして今日は月間3400件で100件減っているのです。  
　昨日の時点では「伸び悩みかな？」とのんびり構えていたんですが今日になって100件減って、「そんなにいきなり減るわけがない」と思い調べてみる事にしたのです。  

### アクセスログからはわからない

　まず一番最初にGoogleAnalyticsとSearchConsoleでアクセスのログをさらいましたが「アクセスが減っている」以外の情報がなく、検索ワードでしくじった訳でもなさそうですし検索件数は減っていますがPVが100件減るほどのインパクトが有るような減り方ではないのでコンテンツの問題ではないだろうな、という部分が絞り込めました。  
　しかしメイン武器であるアクセスログに何も情報が出ていないと言う事は先行きが怪しいという事なので良い情報ではありません。  

### 自サイトにアクセスしたら503エラー

　アクセスログだけ調べても仕方がないので自サイトを実際確認しに行ったんですが、突然「503エラー」でアクセスできない状態でした。  
　「あっ」と思ったんですが、503エラーってサーバー側で接続を蹴っている状態なんですよね。ユーザーがコンテンツにアクセスしに行って、Analyticsが読み込まれる前の段階で「サーバーエラー」を返して蹴っている状態なのでアクセスログに記録されないんです。なのでアクセスログには何の情報もないのも当たり前で、503エラーが出ているという事はサーバーと言うかサーバーの提供会社に問題がある状態なのです。  
　私はさくらインターネットを使っているので早速コントロールパネルにログインして確認したんですが、通信量の問題ではない（1日に80GBも転送しない）のは明らかだったんですが、エラーログを見ると24時を中心に503エラーが400件ほど出ているのでPV数減少はこれが原因だな、と当たりがつきました。  
　エラーログを見ると転送量上限のエラーが出ているのとCPU時間が凄く使われているので、同時アクセス数が多くて瞬間的なCPUリソース切れ、同時ヘッダ読み込みによる転送量超過で蹴られているんだな、という事がわかりました。  

### とりあえず様子を見ますが

　503エラーが出ている事と原因がなんとなくわかったのはいいんですが、問題はこの「きさらぎ めも」はわりとプレーンな形式で作っているサイトなので、アクセス数過多が原因で503エラーが出ている場合対応のしようがないんですよね。サーバーを増強する（つまりさくらインターネットさんからどこか別の会社に乗り換える）しか方法がないんですよ。  
　とりあえず現状503はすぐに復帰しましたし今はページが見られているので良いんですが、今後同様の問題が起きたらサーバー引っ越しも考えないといけないな、と思います……。  
　とりあえず様子を見ますが、今のサーバーはアドセンス料でプラマイゼロくらいの金額で借りれているので今より高いサーバーは使いたくないんですよね……。  
　まあ頑張ります。  

## LogicoolのM720rというマウスがかなり良い

　一昨日ヨドバシ・ドット・コムから届いたLogicoolのM720rは予想よりも非常に良いマウスで、今MagicMouse2じゃなくてM720rをメインに使うようにしているんですが、正直利便性でいうとMagicMouse2よりもM720r＋ステアーマウスの方が利便性は高いかな、と思います。  

### LogicoolのM720rとは

　M720rとはLogicoolの無線式多ボタンマウスです。8ボタンでUSB子機またはBLUETOOTHで接続できるマウスで、複数台デバイスに接続して使い分けられたり、Logicool Optionsを使ってマウスのボタンを設定できたり、多ボタン多機能マウスとして非常に良い出来のマウスです。  

<iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=dtribe-22&amp;language=ja_JP&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B07RGVZ1VG&amp;linkId=94d692da3c580213ed70c19df654acf5"></iframe>

  
  
　多機能マウスとしては値段も安めですし、MagicMouse2を卒業して多ボタンマウスを使いたいのであれば選択肢としては良いのではないでしょうか。  

### ステアーマウスとは

　ステアーマウスとはWindows/Mac両用のシェアウェアで、汎用マウスドライバとして動作し、マウスごとに読み取り感度やボタンの設定なんかをできるソフトです。  
　LogicoolのLogicool Optionsと性能的にはかぶるんですがこちらの方が設定項目が多く色々設定できるので便利で（逆にLogicool Optionsじゃないと設定できない部分もあります）、これを使ってマウスを色々設定するとMagicMouse2よりもできる事が多くボタン数を活かせる設定ができるので非常に良いです。  

### 私の場合の設定

　私の場合Mission Controlのデスクトップ切り替えを多用する・マウスホイールの左右チルトは使わないタイプなので次のように設定しています。  

#### Logicool Optionsで設定

　・スクロール方向：自然  
　・スムーズスクロール：有効  

#### ステアーマウスで設定

　・ボタン7（ホイール右チルト）：Mission Control　右の操作スペースへ移動  
　・ボタン8（ホイール左チルト）：Mission Control　左の操作スペースへ移動  
　・組み合わせ：「右ボタン＋ミドルボタン」　Homeキーを入力  

### この設定で使うと

　この設定で使うと、Mission Controlの左右移動がホイールの左右チルトで行なえますし、Mission Control自体はジェスチャボタンを押すだけで表示可能、スクロールはホイールで自由にしつつ、右クリック＋ホイールクリックでHomeを入力して画面の最上部に飛べるのでWebを見たりTweetbot 3 for Twitterでツイッターを見たりするのに非常に向いています。  
　現時点では設定はこれで決まりだな、という感じになっているんですが、使い込んでいくうちにステアーマウスの方で色々な組み合わせを設定し始めるんじゃないかと思います。どうなっていくのか楽しみです。  
　M720rとステアーマウスを両方買ってもMagicMouse2よりも安いので、これはなかなかオススメかも知れません。  

## まとめ

　という訳でアクセス過多でサーバが503で蹴られる話と、LogicoolのM720rが良いというお話でした。  
　長いスコープで見るとサーバ引っ越しはいつか必要ですし、ちょっと考えないといけないかも知れません……。
