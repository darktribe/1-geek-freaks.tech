---
title: "ちょっと困った事になりました……。"
date: "2020-08-12"
categories: 
  - "mac"
  - "ソフト・サービス"
  - "戯言"
---

どうもこんにちは、昨日欲しいと言っていたハードディスクが早速入手できたのでデータのバックアップを取ってOSのリカバリを早速行っている如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
  
　今日はそんな作業をしているのですがちょっと困った事になったお話をしたいと思います。  

## 最近MacOSの調子が悪かったのです

　先日までMacで動画を撮るアプリを選定していて、今はMovavi Screen Recorderに決まったので良いんですがそれまでは製品紹介だけではわからない部分が多すぎるのでいちいちMacにお試しインストールをして試してはアンインストールしていたんですが、その他にも色々やっていたのでOSの調子が悪く、例えばTweetbot 3 for Twitterで投稿音が鳴らなくなった（しかもスピーカーだけ。AirPodsでは聞こえる）とか、Finderの挙動が安定しないとかとにかく胡散臭い状態になっていて、OS的にはそろそろ限界というか、かなり調子が悪いのでなんとかしないといけないな、と思っていたのです。  

## なのでOSのリカバリをしたいと思っていたのです

　なので手っ取り早い方法としてはOSのリカバリなんですが、Catalinaでのリカバリは初めてなのでちょっと注意が必要だと思っていて、持っているデータが消えないようにデータをバックアップしてからOSのをリカバリし、それからバックアップからデータを戻す方法で考えました。  
　というかそれをしたくてハードディスクが必要だったのです。クラウドから復旧するのはものすごく時間がかかるので避けたいのが正直なところで、ハードディスクへのやりとりであれば私の所持データ500GBくらいなら1時間もあれば書き込めますし読み込める速度なのでハードディスクを使いたかったんです。  

## データは一元して「OneDrive」に保存しているのでバックアップを取りました

　バックアップするデータはそもそもクラウドストレージに同期する都合上「OneDrive」フォルダを掘ってその中にすべて入れていたのでハードディスクへのバックアップも「OneDrive」フォルダを丸ごとコピーすればオーケー、OSのリカバリが終わったら「OneDrive」フォルダをそのままコピーしてきてからOneDriveを設定すればいいのでそんなに難しい作業ではないはずです。  
　というわけで新しいハードディスクを開封してサクッとフォーマットして「OneDrive」フォルダをコピーしてデータを退避、OSのリカバリに進んだのです。  

## 保管しているMusicフォルダのデータがミュージックアプリで破壊されていたのです

　もっと早くチェックしておくべきだったんですが、OSのリカバリ後に気づいた事なんですが、私の音楽ファイル保存フォルダである「Music」フォルダがMacのミュージックアプリによる再整理の対象になっていたらしく、「Music」フォルダが破壊されているというか歯抜けの状態になってしまっていたのです。  
　iTunes時代からそうなんですが、MacのミュージックアプリはMusicフォルダを取り込んで音楽を聞いていた場合、再生がトリガーになるのかわからないですがMacのミュージックアプリのフォルダを作ってその中にファイルを移動していってしまうんですよね。非常に迷惑です。  

## Musicフォルダ内にMusicフォルダがある状態だったので下位Musicを上書きしました

　フォルダを確認してみたところ私の作ったMusicフォルダの中にMacのミュージックが作ったMusicフォルダができており、その中に歯抜けの状態で音楽ファイルが移動されている状態だったので、Macにはフォルダの統合機能があるはず、と思ったのでMusicの中にあるMusicフォルダを、Musicフォルダに移動したのです。上書きで。  
　多分これ移動したのが間違いで、Optionキーを押しながらコピーすべきだったんですけども、普通に操作を誤りました。  

## Musicデータが半分飛びました

　その結果、Macのミュージックアプリが移動していたファイルだけが残り、もともとMusicフォルダに保存されていた音楽ファイルが飛びました。全データの半分が飛んだ計算です。  
　しかしまあ人間なので操作ミスもある、バックアッププランを使おう、と思って普段用意しているTimeMachine・OneDriveに目をやったのです。  

## OSリカバリ直後なのでTimeMachhineが死んでいます

　その結果、まずTimeMachineはそこからデータ復帰をしていないTimeMachineだったので設定のし直しが必要・データの世代型バックアップからデータを持ってこれないという大問題に発展しました。こういう時のために用意しているTimeMachineなのに全く使えません。これは困ります。  

## OSリカバリと同時にOneDriveも同期し始めたので厄介です

　そしてOneDriveですが、OSのリカバリ後データ同期をするためにアプリを動かしてしまっているので、消えたデータも同期されて消える運命なのです。データのサルベージは急がないといけません。  
　まあOneDriveはデータの巻き戻しができるのでそれでなんとかする方法があるので、とりあえず焦ってはいないんですがちょっと困った事になったな、と思っているのです。  

## ブラウザからMusicフォルダを見ると生きているようなのでワンチャンありそうです

　ブラウザから該当のMusicフォルダを見てみた所「情報」タブで見た容量がちゃんと35GBあるのでデータが消える前のMusicフォルダがまだある状態のようなので、今そのMusicフォルダをダウンロードしている状態です。ちゃんとダウンロードできたら展開して、その展開ファイルは消さずにMusicフォルダの整理をして、問題なく動く状態になったらOneDriveと同期してZipファイルを消そうと思います。  
　ただ、これができなければ今月解約したばかりのDropboxをもう一回契約し直して前のMusicフォルダを持ってくる作業をしなければならないので手間も料金もかかるので本当に勘弁して欲しいです……。  

## 非常に面倒くさいです

　というか、Macのミュージックアプリは非常に行儀が悪く、使うのに非常に面倒くさいのです。  
　まあ音楽ファイル全部合わせても40GBいかない感じなので「保存フォルダ」に1個、「ミュージックアプリのフォルダ」に1個で2個ファイルを置いて容量を80GB消費、でも悪くはないんですが、自分が整理できないところに勝手にフォルダを掘ってファイルを置く設計が信じられないと思っていて、本当に面倒くさいのです。  

## まあOSのリカバリ自体は無事終わったので

　まあOSのリカバリ自体は無事に終わっているのでMacの調子が悪いという事もないですし、他のアプリ復旧やデータ復旧は上手くできているので問題はないので、とりあえずMusic関連だけデータがロストしないように注意したいと思います。  
　まだ全部のアプリが復旧したわけでもないので2〜3日は色々設定したりアプリを入れ直したりすると思いますが、それが終わるまでにはMusic関連の問題もカタがついているといいな、と思います。
