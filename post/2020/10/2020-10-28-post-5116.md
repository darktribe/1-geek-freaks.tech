---
title: "MacBookProの調子が良いです"
date: "2020-10-28"
categories: 
  - "mac"
  - "戯言"
---

どうもこんにちは、MarsEdit4のサポートを受けるのに自動翻訳を利用しているんですが、結構な高精度でちゃんとした英語にしてくれるので使い慣れると便利だな、と思う如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。読む方はなんとかなるんですが書く方が全くできないんですよね。  
  
　今日はこの前までMacが不調だったんですが、Appleのサポートを受けてから問題が解決して非常に調子よくMacBookProを使えているのでその時のお話しをしたいと思います。  

## 4月くらいから調子が悪かった

　今使っているMacBookProなんですが、今年の4月くらいまでは完璧なコンディションで使えており、特に問題になる動作はなかったんですが、今年4月くらいからGoogle Chromeを起動しながらマインクラフトを動かすとJAVAが暴走して（CPU%で700%とかになる）動きがカクカクになったり、Android仮想環境のBlueStacksを起動した状態で他のアプリでネットワークを使うとKarnel Taskが暴走（CPU%で1200%とかになる）して動きがカクカクになるようになってきたのです。  
　何かおかしいな、と思って色々試していたんですが問題の修正には至らず、どちらの問題も運用で回避可能（原因がわかっているので避ければ良い）なので仕方無しにそのまま使っていたんですが、9月になってMacBookProにサブディスプレイを導入しまして、サブディスプレイを使っているとランダムでKarnel Taskが暴走する（サブディスプレイを外してしばらくするとKarnel Taskの数値が落ち着く）状態に陥り、たかがサブディスプレイをつなげただけで不安定になるシステムなんておかしいので本格的に対処する事にしたのです。  

## 自分でいろいろ試したが直らなかった

　まず自分でできる問題の切り分けということで、いくつか行った事があります。  
　まあどんな問題が起きた時でも切り分けとして用いるのに良い方法なので、何か問題があったらまずこれらを試すべきです。  

### アプリの再起動を試す

　まず最初にアプリの問題の可能性があるのでアプリの再起動を試しました。  
　JAVAはともかくKarnel Taskは再起動できないので仕方がないんですが、JAVAも再起動して駄目だったのと、BlueStacksも再起動で駄目だったのでアプリの問題ではありませんでした。  

### Finderの再起動を試す

　次にFinderが不安定になっている可能性があるのでFinderの再起動を試しました。Finderをoptionキーを押しながら右クリック、「再度開く」を選択します。  
　Finderを再起動しても問題が解消されなかったのでFinderの問題でもないという事がわかったので次のステップに進みました。  

### Macを再起動してみる

　Mac自体が不安定になっている可能性が考えられるのでMacを再起動しました。Appleメニューから「再起動」を選択して再起動します。  
　JAVAもKarnel TaskもBlueStacksも再起動すると一時的に問題は収まるのですが、30分しない内に問題が再現するので根本解決には至っていないという結論でした。  

### Macのセーフブートを試す

　ブート関係のファイルが壊れている可能性を考慮し、セーフブートでブート関連のファイルをリフレッシュしました。電源を切ってShiftキーを押しっぱなしにして電源投入、ブート時に画面右上に赤文字で「セーフブート」と表示されていれば成功、そのまま再起動して構いません。  
　セーフブートでも問題が解消しないのでわりと致命的な問題を疑う結果になり、NVRAM/SMCのリセットに進みました。  

### NVRAMをクリアしてみる

　NVRAMの破損を疑ってNVRAMをクリアしました。Mac起動時に電源を入れてすぐにキーボードのoption、command、P、Rの4つのキーを同時に押して、20秒ほど押し続けます。起動音の鳴るMacなら2回目の起動音を聞いたら手を離して構いません。T2セキュリティチップ搭載のMacの場合はAppleマークが消えて2回目のAppleマークが見えたら手を離して構いません。  
　NVRAMのクリアでも問題が解消しなかったのでSMCのクリアに進みました。  

### SMCをクリアしてみる

　SMC領域が壊れている可能性があったのでSMCをクリアしました。Macの電源を落として電源を抜き、通電していない状態にしてからキーボード左側のoption、shift、controlキーを押しっぱなしにしながら電源キーを10秒以上長押しします。その後普通に起動させます。  
　SMCのクリアでも問題が解消しませんでした。  
　この時点で残る方法はMacのリカバリしかない感じだったんですが、リカバリは凄く手間がかかるので他に方法がないかAppleサポートに問い合わせる事にしました。  

## Appleのサポートに電話を貰ったら直った

　自分でできる事をすべてやったのでAppleサポートに問い合わせてみたんですが、自分の観点からは抜け落ちていた部分を提案して貰えたので試してみた結果、問題が解消しました。  

### FirstAidを試す

　各種ファイル構成がおかしくなっている可能性があるとの事で、SSDに対してFirstAidをかける提案を貰いました。「アプリケーション」の中の「ユーティリティ」内に「ディスクユーティリティ」があるのでそれを起動、FiastAidをかけたいSSDを選んでFirstAirボタンをクリックします。  
　結構な時間がかかりますがこれで問題が解決する場合があります。私の場合は問題は解決しませんでした。  

### ユーザーを変えて試す

　ユーザー依存の構造ファイルに問題がある可能性があるので別のユーザーを作って試してみては、という提案を貰いました。「システム環境設定」から「ユーザーとグループ」を選び、ユーザーの項目の下にある「＋」をクリックしてユーザーを管理者で追加、追加したユーザーでログインして動作を確認した所問題が修正されました。  
　結果新しく作ったユーザーの名前を変えてパスワードも強固なものに変更し、前のユーザーを削除して新しいユーザーで使う事にした結果、問題なくMacBookProを動作させられるようになりました。  
　FirstAid、ユーザー変更は自分の視点にはなかった考えなので非常に参考になりました。次回以降FirstAidとユーザー名変更は試そうと思います。  

## その後快調です

　Appleサポートさんに問題を修正する手ほどきを受けてからMacBookProは好調で、Google Chromeを起動しながらマインクラフトを起動しても重くなりませんし、BlueStacksも問題なく使えますし、サブディスプレイを使っても全く負荷がかからなくなったので非常に嬉しいです。  
　スペックで言えばこの程度の負荷で重くなるMacBookProではないので何か原因があるとは思っていたんですが、やはり問題があって修正したら問題なく動くようになったので満足しています。  
　まあユーザー関連のファイルを変えるという事は、多分MacBookProのリカバリでも問題は解消したと思うんですが、リカバリに比べてユーザーの追加削除のほうが何十倍も手間がかからないので良い解決方法を提示してもらえてよかったです。  

## まとめ

　という訳で、MacBookProの調子が悪くなって自分で直せなかったのでプロのサポートに頼ったら案外簡単に問題が解決したので、自分で解決できない時は恥ずかしがってないでサポートに電話すべきですよ、というお話しでした。  
　今は問題なく使えているので大満足です。
