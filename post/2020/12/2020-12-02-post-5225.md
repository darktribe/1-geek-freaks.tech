---
title: "M1（Apple Silicon）搭載Macで確認済みの提供元からのカーネル拡張機能をオンにする方法"
date: "2020-12-02"
categories: 
  - "mac"
  - "戯言"
---

どうもこんにちは、子供と一緒にゲームをやっていたら夢中になってしまってとんでもない時間になってしまい、そこから色々準備して今午前5時30分にブログを書き始めている計画性のない如月翔也（[@showya\_kiss](http://twitter.com/showya_kiss)）です。  
  
　今日は二番煎じネタなんですが、M1（Apple Silicon）搭載のMac（MacBookAir/MacBookPro/Mac mini）で「確認済みの提供元からのカーネル拡張」を有効にする方法についてお話したいと思います。  
　このネタ2日ほど前に「Movavi Screen Recorderをインストールする方法」として紹介したんですが、もっと汎用性のある話題というか今割と切実に求められている方法だと思うので、もう一度お話したいと思います。  

## Mac OS BOG SURでの変更点について

　M1（Apple Silicon）搭載のMac（MacBookAir/MacBookPro/Mac mini）は全てその対象なのですが、Mac OS BIG SURでOSに大きな変更が加えられています。  
　その中で今回取り上げる問題は「Apple以外の開発元のカーネル拡張機能がデフォルトでオフになっている」という問題についてなのですが、今まで普通にMac OSを使っていた場合には特に問題なかった事がMac OS BIG SURになってから突然できなくなるので皆さん困惑すると思うので情報を共有します。  
　この問題、端的に言うと使っているApple社以外のアプリがカーネル機能拡張を使っていた場合動作しなくなる・インストールができなくなるという問題になるので、環境に与えるダメージがちょっと大きな問題なのです。  

## M1搭載Macは全てその範囲なので

　今回の問題はMac OS BIG SURの問題なので直接的にM1搭載Macにだけ発生する問題ではないんですが、M1搭載Macは全てMac OS BIG SURである事と、M1搭載Macを購入して今までの環境から引っ越そうとした時に問題に直面するので、M1搭載Macを使う人は「Mac OS BIG SURはそうなんだか」「M1搭載Macはみんなそうなんだな」という形で把握しておく必要があります。  
　というか、Mac OS BIG SURが「Apple以外の開発元のカーネル拡張機能がデフォルトでオフになっている」という情報自体がそもそも行き当たらない情報なので、まあ逆に言えばそこまで絞り込めばあとは検索の腕前で問題解決まではいけるんですが結構面倒くさい問題なのと、知らないと調べようがなくそれを有効にする方法があると知らなければ絶対にできない方法なので注意が必要だと思います。  

## どういう問題になるのか

　では今回の問題である「Aople以外の開発元のカーネル拡張機能がデフォルトでオフになっている」という問題でどういう問題に直面するかと言うと、主に2つです。  
　1つはインストールできているはずのアプリが思ったように動作しないという問題、そしてもう1つはアプリが正常にインストールできない問題です。  
　この問題、もっと掘り下げると、「そもそも確認済みでない開発元のカーネル拡張機能は有効にできない」という問題があるのでアプリがインストールできない・正常に動かない場合にその方法を使えば必ず直る、という類の問題ではないので、今動かない・正常にインストールできないアプリがあるとして、必ず元に戻せるという事を保証する方法ではないのです。  
　私が経験した範囲でいうと画面録画のアプリで画面録画が正常にできなかったり、インストール時に「次の画面で機能拡張をオンにしてください」という画面から機能拡張の画面に遷移できなくてアプリがインストール完了しない、とりあえずインストールを進めても画面録画で音声がとれないという問題に直面しまして、結果的には今回の対処方法で問題は解決しまして正常にインストールが完了して普通に画面録画と録音ができる状況になったので、一つの方法として共有したいと思います。  

## 対処方法

　問題としては「Apple以外の開発元のカーネル拡張機能がデフォルトでオフになっている」という問題なので、「デフォルトでオンにする」設定があればそれで解決なんですが、「デフォルトでオンにする」方法は今の所ありません。  
　しかし限定された条件として「（Appleに）確認済みの提供元からのカーネル拡張機能を有効にする」方法を使うと、そのアプリがAppleに確認済みの開発元だった場合カーネル拡張機能を有効にする事ができるので、その場合アプリの動作を正常に戻したりアプリのインストールを正常に終了して使う事ができるようになります。  
　なのでApp Storeにアプリを卸しているような開発元のアプリであればフリーウェアでも動く感じですし、逆に開発主体がしっかりしているように見えてもデベロッパとしてAppleに確認されていないデベロッパの作ったフリーウェア・シェアウェアは動かない感じなので、今回紹介する方法で使えるようになればラッキー、ならなければ諦めるくらいの潔い気持ちで試して頂ければと思います、  
　ちなみになんですがその設定をするとMac OSのセキュリティが下がるので、試す場合は個々人の責任のもとで行ってください。試してみてMacが起動しなくなってもセキュリティが破壊されても私は責任を持てません。  

## 確認済みの提供元からのカーネル拡張を有効にする方法

　では、確認済みの提供元からのカーネル拡張機能有効にする方法ですが、Macを終了した状態から始める必要があります。  
　まず電源オンにするために電源ボタンを押して、そのまま長押しします。すると起動オプションを開くには押したまま、という表示が出るのでそのまま電源ボタンを押したままにします。  
　次に「オプション」という画面が出るので歯車マークをクリックしたあと「続ける」をクリックします。 　続く画面で復旧アシスタントが表示されるのでユーザー名を選択して「次へ」、パスワードを入力して「続ける」をクリックするとOSの復旧画面の前画面（ディスクユーティリティなどの画面）が表示されるので、そこでメニューの「ユーティリティ」をクリックして「起動セキュリティユーティリティ」を選択します。  
　そこでSSDが表示されるので選択して画面右下の「セキュリティポリシー」をクリックします。  
　セキュリティのレベルを選択する画面が出るので「低セキュリティ」をクリック、「確認済みの開発元から提供されたカーネル機能拡張のユーザー管理を許可」と「カーネル機能拡張と自動ソフトウェア・アップデートのリモート管理を許可」にチェックを入れたあとOKで画面を閉じて再起動します。  
　これで設定画面には出ませんが確認済みの提供元からのカーネル拡張機能が有効になるので、確認済みの提供元からのアプリを普通にインストールすればそのままインストールされます。  
  
　この方法ではAppleが確認済みの開発元のアプリしでしかカーネル拡張機能が有効にできないので、Appleが確認済みでない開発元のアプリではカーネル拡張機能が有効にならないので注意が必要です。  
　今までMac OSで問題なく使えていて、M1搭載Macに乗り換えたら動作がおかしいだとか、M1搭載Macに乗り換えたらインストールが正常に完了しないという場合にはこの方法で問題が解決する可能性があるので、自己責任の上で試してみるのも一つの手だと思います。  

## まとめ

　という訳で、M1搭載Mac・Mac OS BIG SURで「確認済みの提供元からのカーネル拡張」を有効にする方法についてのお話でした。  
　「カーネル機能拡張」というキーワードでできない事があるばあい、「確認された提供元」ならば解決できるという話なので、記憶の片隅にでも置いておくと役に立つかもしれません。  
　とりあえず今日は共有までに。
