---
title: "Google Cloud Engineを使って無料でVMインスタンスを立ち上げる方法"
categories: 
  - "アプリ・ソフト"
  - "webサービス"
  - "アプリ紹介"
slug: "How-To-Start-Google-Cloud-Engine-Instance"
status: publish
---
　どうもこんにちは、如月翔也（[@showya_kiss](https://twitter.com/showya_kiss)）です。
　今日は今後書いていきたいブログのネタである「Google Cloud Engineを使って無料でWordPressサーバーを持つ」方法や「IFTTTのプロ以上を使ってTwitterへのポストをNostrにクロスポストする」方法や「それをSSL化する」方法の根っこの部分になる、「Google Cloud Engine」を使って無料の範囲でヴァーチャルマシンのインスタンスを立ち上げる、という方法についてシェアしていこうと思います。
　今後の記事について、この記事が参照先になる可能性があるのでしっかり書いていきたいと思いますのでよろしくお願いします。

## Google Cloud Engineとは
Google Cloud EngineとはGoogleの提供するサービスの一つで、主にWeb上で様々なサービスを提供するものを指します。
　その中の一つにヴァーチャルマシンの提供があり、ヴァーチャルマシンというのは仮想化サーバーの一部で、要するにネット上にサーバーを持てるサービスなんですよね。
　Google Cloud Engineの凄い所は本人確認のために「有効なクレジットカード」が必要なんですが、条件付きでヴァーチャルマシンを1サーバーもたせてくれるという素晴らしいサービスなのです。
　無料で使えるサーバーはそんなに強いサーバーではないんですが、個人ブログを運用するとか、自分しか使わないようなWebサービスを立ち上げるには十分な性能があり、なにより無料で使えるので、WordPressを使うのであれば独自ドメインだけ入手できればサーバー側はGoogle Cloud Engineでなんとでもなりますし、なんなら独自ドメインについてはサブドメイン形式でドメインを無料で入手する方法もあるので、上手くやれば無料で独自ドメインのブログサーバが持てるのです。
　また、ただのWebサーバではなくちゃんとした独立サーバーなのでプログラム系が結構フリーで動かす事ができるのでWeb系の言語で開発をやってみたい人なんかは初期投資無しで試せるお手軽なサーバーなので普通におすすめです。

　Google Cloud Engineで持てるサーバーには制限があるんですが、今回紹介する方法で取得すると1人1サーバーまで無料で取得できます。ツール上月7ドル発生する計算を見せられますが、実際には請求は発生しませんし、初回無料でチャージされる300ドルにも手を付けないで済みますので安心して申し込んで下さい。
　なお、これは2023年11月23日時点で確認したGoogleのドキュメントをもとにした情報ですので。本日以降Google側でドキュメント修正・あるいは無料範囲が変更された場合は今後有料になる可能性があります。
　ただ、後で触れるんですが、クレジットカードのチェックが、カードが存在するかどうかでしかチェックしていないようでGoogleに登録した名前がクレジットカードと違うものでも認証が普通に通って申込みができたので、おそらくこれでは実際に請求はできないので、使うGoogleアカウントには実名を登録しないでハンドルで登録しておけばかなり確実に請求を避ける事ができると思います。

## 実際のヴァーチャルマシンの申し込み方
では、実際のヴァーチャルマシンの申し込み方を順に説明していきます。

・[https://cloud.google.com/compute?hl=ja](https://cloud.google.com/compute?hl=ja)を開く
・「Compute Engineの無償トライアル」をクリックする
・メールアドレスとパスワードで認証が行われる。必要なら2段階認証を行う
・ステップ1/2の画面
　・国を日本にして続行
・ステップ2/2の画面
　・「アカウントの種類」を「ビジネス」から「個人」に変更する
　・クレジットカード情報を入力する（Googleアカウント名義がカード名義と違っても通る）
　・請求住所を入力してから「続行」をクリックする
・新しく画面が開く
　・「ニーズの説明」の項目で「その他」を選択
　・「詳細」欄にニーズを記載（例：ブログ開設・個人ユースのアプリ作成など）し、「次へ」をクリック
　・「検討理由」欄については適切なものを選び、「次へ」をクリック
　・「何をやりたいですか」については適切なものを選択して「次へ」をクリック
　・「役職」欄については適切なものを選んで「完了」をクリック
・「ようこそ画面」が表示される
　・画面下「プロダクト」の中にある「VMの作成」をクリック
・「Compute Engine API」の画面が表示される
　・画面中：「有効にする」をクリック
・「VMインスタンス」の画面に遷移する
　・画面右上「インスタンスの作成」をクリック
・インスタンスの作成ウィンドウが表示される。以下を設定。記載がないものはデフォルトのまま
　・名前：インスタンス名：好きな名前で良い。英小文字・数字・ハイフンだけで構成すること
　・リージョン：「us-west1（オレゴン）」を選択
　・ゾーン：変更なし
　・マシンタイプ：プリセット：「e2-micro（2 vCPU、1コア、1GBメモリ）」を選択
　・ブートディスク：「変更」をクリック
　　・開いた画面の設定は以下
　　・OS：Ubuntuに変更（Ubuntu以外でも良い）
　　・バージョン：22.04LTSのx86/64を選択（Ubuntu以外でも良い）
　　・ブートディスクの種類：標準永続ディスクを選択
　　・サイズ：30GBに変更（30GBまで無料なので最大を選択。少なくするのは自由）
　　・全て設定したら画面下「選択」で画面を閉じる
　・ファイアウォール：3つともチェックを入れる
・画面下「作成」で画面を閉じればインスタンスが作成される。

## VM作成時の注意点
Google Cloud Engineでe2-Microのサーバーを持つのは無料ですが、以下の条件がありますので注意して下さい。
・リージョンに制限があるので基本的には「us-west1（オレゴン）」を選択する事。
・マシンタイプは「e2-micro（2 vCPU、1コア、1GBメモリ）」でなくては無料にならない。
・OSタイプによっては有料になるので、Ubuntuの22.04LTS、x86/64タイプが安全です。
・ディスクの種類は「標準永続ディスク」でないと無料になりません。30GBまで無料です。

## この後の作業について
インスタンスが立ち上がるともうサーバーとして動きます。
　今後サーバーとして使うために、自分の持っている独自ドメインと内部IPv4アドレスをDNSサーバーで紐づけしてくとあとあと便利です。
　独自ドメインとIPv4の紐づけは、自分の取得した独自ドメインのサービスで行って下さい。
　一例として、私が使っているXサーバーでは以下のように操作します。
・[サーバーパネル](https://secure.xserver.ne.jp/xapanel/login/xserver/server/)からログイン
・DNSレコード設定をクリック
・使いたい独自ドメインを選んで「選択する」をクリック
・「DNSレコード追加」をクリック
・「ホスト名」の欄に使いたいサブドメインを入力
・「内容」の欄にVMに表示されている「外部IPアドレス」の数値を入力する
・「確認画面へ進む」をクリック
・「追加する」をクリック
　これで登録が終わり、数分〜数時間待つと順引きでアドレスが解決できるようになります。
　順引きでアドレスが解決できる、という事は、指定したサブドメインのURLで今作ったヴァーチャルマシン上で動くサーバーにアクセスできるという事です。

## まとめ
Google Cloud Engineでバーチャルマシンを立ち上げるのはこれだけの作業で完了です。
　ちょっと変更する項目は多いのですが、基本的には流れ作業で操作するだけで無料のサーバーが持ててしまいます。
　この作業をしておくと、後でWordPressを立ち上げたり、Webサービスを動かしたりする事ができるので、ちょっとだけ深くWebを楽しみたい場合Google Cloud Engineのサーバを持っていると色々できるので、本当におすすめです。
　ぜひみなさん色々試してみて下さい。